<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELITE INVESTMENT HUB | Global Institutional Trading</title>
    <script src="https://s3.tradingview.com/tv.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');

        :root {
            --primary: #00ff88;
            --mpesa: #49aa27;
            --bg-dark: #05070a;
            --sidebar-bg: #0d1117;
            --glass: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.1);
            --text-main: #e6edf3;
            --text-dim: #8b949e;
        }

        * { box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; margin: 0; background: var(--bg-dark); color: var(--text-main); display: flex; min-height: 100vh; overflow-x: hidden; }

        /* --- NOTIFICATION SYSTEM --- */
        #notification-box { position: fixed; top: 20px; right: 20px; z-index: 9999; pointer-events: none; }
        .toast { background: #111827; color: white; padding: 15px 20px; border-radius: 12px; border-left: 4px solid var(--primary); margin-bottom: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); display: flex; align-items: center; gap: 12px; animation: slideIn 0.5s ease forwards; width: 320px; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }

        /* --- SIDEBAR --- */
        .sidebar { width: 260px; background: var(--sidebar-bg); border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 25px; position: fixed; height: 100vh; z-index: 100; transition: 0.3s; }
        .logo { font-size: 1.4rem; font-weight: 800; color: var(--primary); margin-bottom: 40px; display: flex; align-items: center; gap: 10px; }
        .nav-item { padding: 14px 18px; border-radius: 12px; color: var(--text-dim); cursor: pointer; display: flex; align-items: center; gap: 15px; margin-bottom: 8px; transition: 0.2s; text-decoration: none; }
        .nav-item:hover, .nav-item.active { background: var(--glass); color: var(--primary); border: 1px solid var(--border); }

        /* --- MAIN LAYOUT --- */
        .main-content { margin-left: 260px; flex: 1; padding: 40px; width: calc(100% - 260px); }
        .card { background: var(--glass); border: 1px solid var(--border); padding: 25px; border-radius: 20px; backdrop-filter: blur(15px); margin-bottom: 25px; }
        
        /* --- INVESTMENT PLANS --- */
        .plans-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; }
        .plan-card { border: 1px solid var(--border); border-radius: 18px; padding: 25px; text-align: center; background: rgba(255,255,255,0.01); transition: 0.3s; }
        .plan-card:hover { border-color: var(--primary); transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,255,136,0.1); }
        .plan-price { font-size: 1.8rem; font-weight: 800; color: var(--primary); margin: 15px 0; }

        input, select { width: 100%; padding: 14px; background: #161b22; border: 1px solid var(--border); border-radius: 10px; color: white; margin: 10px 0; font-size: 1rem; }
        .btn-pro { background: var(--primary); color: #000; font-weight: 800; border: none; padding: 16px; border-radius: 12px; cursor: pointer; width: 100%; text-transform: uppercase; transition: 0.3s; }
        .btn-pro:hover { box-shadow: 0 0 25px rgba(0, 255, 136, 0.5); }

        .hidden { display: none !important; }
        #auth-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-dark); z-index: 2000; display: flex; align-items: center; justify-content: center; padding: 20px; }

        @media (max-width: 900px) {
            .sidebar { width: 80px; padding: 15px; }
            .sidebar span, .logo span { display: none; }
            .main-content { margin-left: 80px; width: calc(100% - 80px); padding: 20px; }
        }
    </style>
</head>
<body>

    <div id="notification-box"></div>

    <div id="auth-overlay">
        <div class="card" style="width: 100%; max-width: 450px;">
            <h2 style="text-align: center; color: var(--primary);">ELITE HUB ACCESS</h2>
            <div id="reg-form">
                <input id="regName" placeholder="Full Name">
                <input id="regPhone" placeholder="Phone Number (e.g. +254...)">
                <select id="regCountry">
                    <option value="">-- Choose Your Country --</option>
                    <optgroup label="Africa">
                        <option value="Kenya">üá∞üá™ Kenya (KES)</option>
                        <option value="Nigeria">üá≥üá¨ Nigeria (NGN)</option>
                        <option value="South Africa">üáøüá¶ South Africa (ZAR)</option>
                        <option value="Ghana">üá¨üá≠ Ghana (GHS)</option>
                        <option value="Tanzania">üáπüáø Tanzania (TZS)</option>
                    </optgroup>
                    <optgroup label="Global">
                        <option value="USA">üá∫üá∏ USA (USD)</option>
                        <option value="UK">üá¨üáß UK (GBP)</option>
                        <option value="Germany">üá©üá™ Germany (EUR)</option>
                        <option value="UAE">üá¶üá™ UAE (AED)</option>
                        <option value="India">üáÆüá≥ India (INR)</option>
                        <option value="Global">üåê Other (USDT)</option>
                    </optgroup>
                </select>
                <input id="regPass" type="password" placeholder="Secure Password">
                <button class="btn-pro" onclick="handleAuth()">Join the Elite</button>
            </div>
        </div>
    </div>

    <nav class="sidebar hidden" id="sideNav">
        <div class="logo"><i class="fas fa-bolt"></i> <span>ELITE HUB</span></div>
        <div class="nav-item active" onclick="showPage('dash')"><i class="fas fa-chart-line"></i> <span>Dashboard</span></div>
        <div class="nav-item" onclick="showPage('plans')"><i class="fas fa-gem"></i> <span>Investments</span></div>
        <div class="nav-item" onclick="showPage('deposit')"><i class="fas fa-wallet"></i> <span>Deposit</span></div>
        <div class="nav-item" onclick="showPage('support')"><i class="fas fa-headset"></i> <span>Support</span></div>
        <div class="nav-item" style="margin-top: auto; color: #ff4d4d;" onclick="logout()"><i class="fas fa-power-off"></i> <span>Logout</span></div>
    </nav>

    <main class="main-content hidden" id="mainApp">
        
        <div id="page-dash">
            <h1 id="welcomeHeader">Market Overview</h1>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; margin-bottom: 30px;">
                <div class="card">
                    <p style="color: var(--text-dim);">Portfolio Balance</p>
                    <h2 id="uBal">0.00</h2>
                </div>
                <div class="card">
                    <p style="color: var(--text-dim);">Accumulated Profit</p>
                    <h2 id="uProf" style="color: var(--primary);">+ 0.00</h2>
                </div>
                <div class="card">
                    <p style="color: var(--text-dim);">Trading Status</p>
                    <h2 id="uStatus" style="color: #ff4d4d;">INACTIVE</h2>
                </div>
            </div>
            <div class="card" style="height: 450px; padding: 10px;">
                <div id="tradingview_widget" style="height: 100%;"></div>
            </div>
        </div>

        <div id="page-plans" class="hidden">
            <h1>Trading Strategies</h1>
            <p style="color: var(--text-dim); margin-bottom: 30px;">Prices are automatically converted to your regional currency.</p>
            <div class="plans-grid" id="plansContainer"></div>
        </div>

        <div id="page-deposit" class="hidden">
            <h1>Add Capital</h1>
            <div id="mpesaSection" class="card hidden">
                <h3 style="color: var(--mpesa);">M-Pesa Express (Kenya Only)</h3>
                <input type="number" id="mpesaAmt" placeholder="Amount in KES">
                <button class="btn-pro" style="background:var(--mpesa); color:white;" onclick="initiateDeposit('KES')">Push M-Pesa PIN</button>
            </div>
            <div class="card">
                <h3>Institutional USDT Address (TRC20)</h3>
                <p>Global standard for automated bot activation.</p>
                <div style="background:#000; padding:15px; border-radius:12px; font-family:monospace; margin:15px 0; border: 1px dashed var(--primary); word-break: break-all;">
                    TPfoEwLhjW3pBokNSem1oTVEp26mNSvfPR
                </div>
                <button class="btn-pro" onclick="sendNotice('Wallet Address Copied')">Copy Address</button>
            </div>
        </div>

        <div id="page-support" class="hidden">
            <div class="card">
                <h2>Verified Support</h2>
                <p>Contact @loskiglobal for manual verification and withdrawal approval.</p>
                <div style="display: flex; gap: 15px; margin-top: 25px;">
                    <a href="https://wa.me/254785449376" target="_blank" class="btn-pro" style="background:#25d366; text-decoration:none; text-align:center;">WhatsApp</a>
                    <a href="https://t.me/loskiglobal" target="_blank" class="btn-pro" style="background:#0088cc; text-decoration:none; text-align:center;">Telegram</a>
                </div>
            </div>
        </div>

    </main>

    <script>
        const currencyConfig = {
            "Kenya": { s: "KSh", r: 1 }, "Nigeria": { s: "‚Ç¶", r: 11.5 },
            "USA": { s: "$", r: 0.0076 }, "UK": { s: "¬£", r: 0.006 },
            "South Africa": { s: "R", r: 0.14 }, "Ghana": { s: "GH‚Çµ", r: 0.095 },
            "Tanzania": { s: "TSh", r: 20.0 }, "Global": { s: "USDT", r: 0.0076 }
        };

        let users = JSON.parse(localStorage.getItem("global_elite_users")) || [];

        function handleAuth() {
            if(!regCountry.value) return alert("Select your country");
            let user = {
                name: regName.value, phone: regPhone.value, pass: regPass.value,
                country: regCountry.value, bal: 0, prof: 0, status: "Inactive", plan: "None"
            };
            users.push(user);
            localStorage.setItem("global_elite_users", JSON.stringify(users));
            localStorage.setItem("session_token", user.phone);
            location.reload();
        }

        function setupUI() {
            let phone = localStorage.getItem("session_token");
            let u = users.find(x => x.phone == phone);
            if(!u) return;

            document.getElementById('auth-overlay').classList.add('hidden');
            document.getElementById('sideNav').classList.remove('hidden');
            document.getElementById('mainApp').classList.remove('hidden');

            let c = currencyConfig[u.country] || currencyConfig["Global"];
            document.getElementById('welcomeHeader').innerText = `Welcome, ${u.name}`;
            document.getElementById('uBal').innerText = `${c.s} ${u.bal.toLocaleString()}`;
            document.getElementById('uProf').innerText = `+ ${c.s} ${u.prof.toLocaleString()}`;
            document.getElementById('uStatus').innerText = u.status;
            document.getElementById('uStatus').style.color = u.status === "Active" ? "#00ff88" : "#ff4d4d";

            if(u.country === "Kenya") document.getElementById('mpesaSection').classList.remove('hidden');
            
            renderPlans(c);
            loadTradingChart();
            startGlobalFeed();
        }

        function renderPlans(c) {
            const tiers = [
                { name: "Starter Bot", ksh: 1500, roi: "5%" },
                { name: "Premium Bot", ksh: 5000, roi: "8%" },
                { name: "AI Institutional", ksh: 15000, roi: "12%" }
            ];

            let html = '';
            tiers.forEach(t => {
                let localP = Math.round(t.ksh * c.rate || t.ksh * c.r);
                html += `
                    <div class="plan-card">
                        <h3>${t.name}</h3>
                        <div class="plan-price">${c.s} ${localP.toLocaleString()}</div>
                        <p>Daily ROI: ${t.roi}</p>
                        <button class="btn-pro" onclick="purchase('${t.name}', ${localP})">Activate Now</button>
                    </div>`;
            });
            document.getElementById('plansContainer').innerHTML = html;
        }

        function purchase(name, price) {
            let phone = localStorage.getItem("session_token");
            let u = users.find(x => x.phone == phone);
            if(u.bal < price) {
                sendNotice("Insufficient Balance. Top up via Deposit.");
                showPage('deposit');
                return;
            }
            u.bal -= price;
            u.status = "Active";
            u.plan = name;
            localStorage.setItem("global_elite_users", JSON.stringify(users));
            sendNotice(name + " Activated!");
            setupUI();
        }

        function sendNotice(msg) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `<i class="fas fa-bell" style="color:var(--primary)"></i> <span>${msg}</span>`;
            document.getElementById('notification-box').appendChild(toast);
            setTimeout(() => toast.remove(), 4000);
        }

        function startGlobalFeed() {
            const names = ["Amani J.", "Okello P.", "Musa G.", "Sarah L.", "Chidi O.", "David B.", "Elena K."];
            const flags = ["üá∞üá™", "üá≥üá¨", "üá∫üá∏", "üá¨üáß", "üáøüá¶", "üá¨üá≠", "üá¶üá™"];
            const actions = ["deposited", "withdrew"];
            
            setInterval(() => {
                let name = names[Math.floor(Math.random() * names.length)];
                let flag = flags[Math.floor(Math.random() * flags.length)];
                let action = actions[Math.floor(Math.random() * actions.length)];
                let amount = (Math.random() * 50000 + 1000).toFixed(0);
                sendNotice(`${flag} ${name} ${action} KES ${amount}`);
            }, 10000);
        }

        function initiateDeposit(type) {
            alert("STK Push request sent to your device. Please enter PIN.");
            setTimeout(() => {
                let amt = parseInt(mpesaAmt.value);
                let phone = localStorage.getItem("session_token");
                let u = users.find(x => x.phone == phone);
                u.bal += amt;
                localStorage.setItem("global_elite_users", JSON.stringify(users));
                sendNotice("Capital Successfully Added");
                setupUI();
                showPage('dash');
            }, 3000);
        }

        function showPage(id) {
            document.querySelectorAll('main > div').forEach(d => d.classList.add('hidden'));
            document.getElementById('page-' + id).classList.remove('hidden');
        }

        function loadTradingChart() {
            new TradingView.widget({ "autosize": true, "symbol": "FX:EURUSD", "theme": "dark", "container_id": "tradingview_widget" });
        }

        function logout() { localStorage.removeItem("session_token"); location.reload(); }
        window.onload = () => { if(localStorage.getItem("session_token")) setupUI(); };
    </script>
</body>
</html>

